{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getDatabase,ref,get,set}from'firebase/database';import{Link}from'react-router-dom';import Header from'./Header';import Footer from'./Footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Shop=()=>{const[listings,setListings]=useState([]);const[selectedSupplyType,setType]=useState('All');// Initial value is 'All'\nconst filterListings=listings=>{return listings.filter(listing=>{if(selectedSupplyType!=='All'&&listing.supplyType!==selectedSupplyType){return false;}return true;});};useEffect(()=>{const fetchData=async()=>{const database=getDatabase();const snapshot=await get(ref(database,'supplyListings'));const data=[];if(snapshot.exists()){snapshot.forEach(childSnapshot=>{data.push({id:childSnapshot.key,...childSnapshot.val()});});}setListings(data);};fetchData();},[]);const handleDropdownChange=event=>{setType(event.target.value);};const filteredListings=filterListings(listings);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"section\",{id:\"All-Listings\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"View Available Listings\"}),/*#__PURE__*/_jsxs(\"section\",{id:\"Filter\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"Filter by Category:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category\",onChange:e=>setType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Textbook\",children:\"Textbooks\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Notes\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Supplies\",children:\"School Supplies\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Miscellaneous\",children:\"Miscellaneous\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"listings-container\",children:/*#__PURE__*/_jsx(\"section\",{className:\"textbook-listings\",children:filteredListings.map(listing=>/*#__PURE__*/_jsxs(\"div\",{className:\"textbook-item-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:listing.image,alt:\"\".concat(listing.name,\" Image\")}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h3\",{children:listing.name})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"h6\",{children:[\"$\",listing.price]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{children:\"View Full Listing\"})})]})]},listing.id))})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Shop;","map":{"version":3,"names":["React","useState","useEffect","getDatabase","ref","get","set","Link","Header","Footer","jsx","_jsx","jsxs","_jsxs","Shop","listings","setListings","selectedSupplyType","setType","filterListings","filter","listing","supplyType","fetchData","database","snapshot","data","exists","forEach","childSnapshot","push","id","key","val","handleDropdownChange","event","target","value","filteredListings","children","htmlFor","onChange","e","className","map","src","image","alt","concat","name","price"],"sources":["/Users/devanshidesai/Desktop/INFO340/studdybuddyuw/src/Shop.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getDatabase, ref, get, set } from 'firebase/database';\nimport { Link } from 'react-router-dom'; \nimport Header from './Header';\nimport Footer from './Footer'; \n\nconst Shop = () => {\n  const [listings, setListings] = useState([]);\n  const [selectedSupplyType, setType] = useState('All'); // Initial value is 'All'\n\n  const filterListings = (listings) => {\n    return listings.filter((listing) => {\n      if (selectedSupplyType !== 'All' && listing.supplyType !== selectedSupplyType) {\n        return false;\n      }\n      return true;\n    });\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const database = getDatabase();\n      const snapshot = await get(ref(database, 'supplyListings'));\n      const data = [];\n      if (snapshot.exists()) {\n        snapshot.forEach((childSnapshot) => {\n          data.push({ id: childSnapshot.key, ...childSnapshot.val() });\n        });\n      }\n      setListings(data);\n    };\n    fetchData();\n  }, []); \n\n  const handleDropdownChange = (event) => {\n    setType(event.target.value);\n  };\n\n  const filteredListings = filterListings(listings);\n\n\n  return (\n    <div>\n      <Header />\n      <section id=\"All-Listings\">\n        <h2>View Available Listings</h2>\n        <section id=\"Filter\">\n          <label htmlFor=\"category\">Filter by Category:</label>\n          <select id=\"category\" onChange={(e) => setType(e.target.value)}>\n            <option value=\"All\">All</option>\n            <option value=\"Textbook\">Textbooks</option>\n            <option value=\"Notes\">Notes</option>\n            <option value=\"Supplies\">School Supplies</option>\n            <option value=\"Miscellaneous\">Miscellaneous</option>\n          </select>\n        </section>\n        <div className=\"listings-container\">\n          <section className=\"textbook-listings\">\n            {filteredListings.map((listing) => (\n              <div key={listing.id} className=\"textbook-item-container\">\n                <img src={listing.image} alt={`${listing.name} Image`} />\n                <ul>\n                  <li><h3>{listing.name}</h3></li>\n                  <li><h6>${listing.price}</h6></li>\n                  <li><button>View Full Listing</button></li>\n                </ul>\n              </div>\n            ))}\n          </section>\n        </div>\n      </section>\n      <Footer />\n    </div>\n  );\n}\n\nexport default Shop;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}