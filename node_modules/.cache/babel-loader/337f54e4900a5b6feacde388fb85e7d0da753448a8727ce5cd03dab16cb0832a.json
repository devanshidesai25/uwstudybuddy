{"ast":null,"code":"import Header from'./Header';import Footer from'./Footer';import{getDatabase,ref,push}from'firebase/database';import{getStorage,ref as storageRef,uploadBytes,getDownloadURL}from'firebase/storage';import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Sell=()=>{const database=getDatabase();const storage=getStorage();const saveSupplyListingToDatabase=async supplyData=>{const imageRef=storageRef(storage,\"images/\".concat(supplyData.image.name));const uploadTask=uploadBytes(imageRef,supplyData.image);try{await uploadTask;const imageURL=await getDownloadURL(imageRef);const supplyImageURL={...supplyData,image:imageURL};push(ref(database,'supplyListings'),supplyImageURL).then(()=>{console.log('Listing Created!');}).catch(error=>{console.error('Error saving your response',error);});}catch(error){console.error('Error uploading image:',error);}};const[formData,setFormData]=useState({supplyType:'',condition:'',description:'',price:'',email:'',image:null});const handleInputChange=event=>{const{name,value}=event.target;setFormData(prevData=>({...prevData,[name]:value}));};const handleImageChange=event=>{setFormData({...formData,image:event.target.files[0]});};const handleSubmit=event=>{event.preventDefault();saveSupplyListingToDatabase(formData);alert('Supply Listing Submitted!');setFormData({supplyType:'',condition:'',description:'',price:'',email:'',image:null});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"listing-container\",children:/*#__PURE__*/_jsxs(\"section\",{id:\"add-listing\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"submit-title\",children:\"Submit Your Profile\"}),/*#__PURE__*/_jsx(\"div\",{className:\"listing-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"supplyType\",children:\"Type of Supply\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"supplyType\",className:\"supply-picker\",value:formData.supplyType,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a type\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Textbook\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Supplies\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Miscellaneous\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Listing name:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"name\",name:\"name\",rows:\"1\",value:formData.name,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"condition\",children:\"Condition\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"condition\",className:\"condition-picker\",value:formData.condition,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a condition\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Brand New\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Very Good\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Good\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Used\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",children:\"Upload Image:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"image\",name:\"image\",accept:\"image/*\",onChange:handleImageChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",rows:\"4\",value:formData.description,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:\"Price:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"price\",name:\"price\",value:formData.price,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit Listing\"})]})})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Sell;","map":{"version":3,"names":["Header","Footer","getDatabase","ref","push","getStorage","storageRef","uploadBytes","getDownloadURL","React","useState","jsx","_jsx","jsxs","_jsxs","Sell","database","storage","saveSupplyListingToDatabase","supplyData","imageRef","concat","image","name","uploadTask","imageURL","supplyImageURL","then","console","log","catch","error","formData","setFormData","supplyType","condition","description","price","email","handleInputChange","event","value","target","prevData","handleImageChange","files","handleSubmit","preventDefault","alert","children","className","id","onSubmit","htmlFor","onChange","rows","type","accept"],"sources":["/Users/devanshidesai/Desktop/INFO340/studdybuddyuw/src/Sell.js"],"sourcesContent":["import Header from './Header'; \nimport Footer from './Footer';\nimport { getDatabase, ref, push } from 'firebase/database';\nimport { getStorage, ref as storageRef, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport React, { useState } from 'react';\n\nconst Sell = () => {\n  const database = getDatabase();\n  const storage = getStorage();\n\n  const saveSupplyListingToDatabase = async (supplyData) => {\n    const imageRef = storageRef(storage, `images/${supplyData.image.name}`);\n    const uploadTask = uploadBytes(imageRef, supplyData.image);\n    try {\n      await uploadTask;\n      const imageURL = await getDownloadURL(imageRef);\n      const supplyImageURL = { ...supplyData, image: imageURL };\n      push(ref(database, 'supplyListings'), supplyImageURL)\n        .then(() => {\n          console.log('Listing Created!');\n        })\n        .catch((error) => {\n          console.error('Error saving your response', error);\n        });\n    } catch (error) {\n      console.error('Error uploading image:', error);\n    }\n  };\n\n  const [formData, setFormData] = useState({\n    supplyType: '', \n    condition: '',\n    description: '',\n    price: '',\n    email: '',\n    image: null\n  });\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setFormData((prevData) => ({\n      ...prevData,\n      [name]: value,\n    }));\n  };\n\n  const handleImageChange = (event) => {\n    setFormData({\n      ...formData,\n      image: event.target.files[0]\n    });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    saveSupplyListingToDatabase(formData);\n    alert('Supply Listing Submitted!');\n    setFormData({\n      supplyType: '',\n      condition: '',\n      description: '',\n      price: '',\n      email: '',\n      image: null,\n    });\n  };\n\n\n  return (\n    <div>\n      <Header />\n      <div className=\"listing-container\">\n        <section id=\"add-listing\">\n         <h2 id='submit-title'>Submit Your Profile</h2>\n          <div className=\"listing-form\">\n            <form onSubmit={handleSubmit}>\n              <label htmlFor=\"supplyType\">Type of Supply</label>\n              <select\n                name=\"supplyType\"\n                className=\"supply-picker\"\n                value={formData.supplyType}\n                onChange={handleInputChange}\n              >\n                <option value=\"\">Select a type</option>\n                <option>Textbook</option>\n                <option>Notes</option>\n                <option>Supplies</option>\n                <option>Miscellaneous</option>\n              </select>\n\n              <label htmlFor=\"name\">Listing name:</label>\n              <textarea\n                id=\"name\"\n                name=\"name\"\n                rows=\"1\"\n                value={formData.name}\n                onChange={handleInputChange}\n              ></textarea>\n\n              <label htmlFor=\"condition\">Condition</label>\n              <select\n                name=\"condition\"\n                className=\"condition-picker\"\n                value={formData.condition}\n                onChange={handleInputChange}\n              >\n                <option value=\"\">Select a condition</option>\n                <option>Brand New</option>\n                <option>Very Good</option>\n                <option>Good</option>\n                <option>Used</option>\n              </select>\n\n              <label htmlFor=\"image\">Upload Image:</label>\n              <input\n                type=\"file\"\n                id=\"image\"\n                name=\"image\"\n                accept=\"image/*\"\n                onChange={handleImageChange}\n              />\n\n              <label htmlFor=\"description\">Description:</label>\n              <textarea\n                id=\"description\"\n                name=\"description\"\n                rows=\"4\"\n                value={formData.description}\n                onChange={handleInputChange}\n              ></textarea>\n\n              <label htmlFor=\"price\">Price:</label>\n              <input\n                type=\"text\"\n                id=\"price\"\n                name=\"price\"\n                value={formData.price}\n                onChange={handleInputChange}\n              />\n\n            <label htmlFor=\"email\">Email:</label>\n              <input\n                type=\"text\"\n                id=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleInputChange}\n              />\n\n              <button type=\"submit\">Submit Listing</button>\n            </form>\n          </div>\n        </section>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default Sell;"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,OAASC,WAAW,CAAEC,GAAG,CAAEC,IAAI,KAAQ,mBAAmB,CAC1D,OAASC,UAAU,CAAEF,GAAG,GAAI,CAAAG,UAAU,CAAEC,WAAW,CAAEC,cAAc,KAAQ,kBAAkB,CAC7F,MAAO,CAAAC,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAAC,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAe,OAAO,CAAGZ,UAAU,CAAC,CAAC,CAE5B,KAAM,CAAAa,2BAA2B,CAAG,KAAO,CAAAC,UAAU,EAAK,CACxD,KAAM,CAAAC,QAAQ,CAAGd,UAAU,CAACW,OAAO,WAAAI,MAAA,CAAYF,UAAU,CAACG,KAAK,CAACC,IAAI,CAAE,CAAC,CACvE,KAAM,CAAAC,UAAU,CAAGjB,WAAW,CAACa,QAAQ,CAAED,UAAU,CAACG,KAAK,CAAC,CAC1D,GAAI,CACF,KAAM,CAAAE,UAAU,CAChB,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAjB,cAAc,CAACY,QAAQ,CAAC,CAC/C,KAAM,CAAAM,cAAc,CAAG,CAAE,GAAGP,UAAU,CAAEG,KAAK,CAAEG,QAAS,CAAC,CACzDrB,IAAI,CAACD,GAAG,CAACa,QAAQ,CAAE,gBAAgB,CAAC,CAAEU,cAAc,CAAC,CAClDC,IAAI,CAAC,IAAM,CACVC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,CACjC,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAK,CAChBH,OAAO,CAACG,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACpD,CAAC,CAAC,CACN,CAAE,MAAOA,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,CAED,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGvB,QAAQ,CAAC,CACvCwB,UAAU,CAAE,EAAE,CACdC,SAAS,CAAE,EAAE,CACbC,WAAW,CAAE,EAAE,CACfC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACThB,KAAK,CAAE,IACT,CAAC,CAAC,CAEF,KAAM,CAAAiB,iBAAiB,CAAIC,KAAK,EAAK,CACnC,KAAM,CAAEjB,IAAI,CAAEkB,KAAM,CAAC,CAAGD,KAAK,CAACE,MAAM,CACpCT,WAAW,CAAEU,QAAQ,GAAM,CACzB,GAAGA,QAAQ,CACX,CAACpB,IAAI,EAAGkB,KACV,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAG,iBAAiB,CAAIJ,KAAK,EAAK,CACnCP,WAAW,CAAC,CACV,GAAGD,QAAQ,CACXV,KAAK,CAAEkB,KAAK,CAACE,MAAM,CAACG,KAAK,CAAC,CAAC,CAC7B,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIN,KAAK,EAAK,CAC9BA,KAAK,CAACO,cAAc,CAAC,CAAC,CACtB7B,2BAA2B,CAACc,QAAQ,CAAC,CACrCgB,KAAK,CAAC,2BAA2B,CAAC,CAClCf,WAAW,CAAC,CACVC,UAAU,CAAE,EAAE,CACdC,SAAS,CAAE,EAAE,CACbC,WAAW,CAAE,EAAE,CACfC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACThB,KAAK,CAAE,IACT,CAAC,CAAC,CACJ,CAAC,CAGD,mBACER,KAAA,QAAAmC,QAAA,eACErC,IAAA,CAACZ,MAAM,GAAE,CAAC,cACVY,IAAA,QAAKsC,SAAS,CAAC,mBAAmB,CAAAD,QAAA,cAChCnC,KAAA,YAASqC,EAAE,CAAC,aAAa,CAAAF,QAAA,eACxBrC,IAAA,OAAIuC,EAAE,CAAC,cAAc,CAAAF,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAC7CrC,IAAA,QAAKsC,SAAS,CAAC,cAAc,CAAAD,QAAA,cAC3BnC,KAAA,SAAMsC,QAAQ,CAAEN,YAAa,CAAAG,QAAA,eAC3BrC,IAAA,UAAOyC,OAAO,CAAC,YAAY,CAAAJ,QAAA,CAAC,gBAAc,CAAO,CAAC,cAClDnC,KAAA,WACES,IAAI,CAAC,YAAY,CACjB2B,SAAS,CAAC,eAAe,CACzBT,KAAK,CAAET,QAAQ,CAACE,UAAW,CAC3BoB,QAAQ,CAAEf,iBAAkB,CAAAU,QAAA,eAE5BrC,IAAA,WAAQ6B,KAAK,CAAC,EAAE,CAAAQ,QAAA,CAAC,eAAa,CAAQ,CAAC,cACvCrC,IAAA,WAAAqC,QAAA,CAAQ,UAAQ,CAAQ,CAAC,cACzBrC,IAAA,WAAAqC,QAAA,CAAQ,OAAK,CAAQ,CAAC,cACtBrC,IAAA,WAAAqC,QAAA,CAAQ,UAAQ,CAAQ,CAAC,cACzBrC,IAAA,WAAAqC,QAAA,CAAQ,eAAa,CAAQ,CAAC,EACxB,CAAC,cAETrC,IAAA,UAAOyC,OAAO,CAAC,MAAM,CAAAJ,QAAA,CAAC,eAAa,CAAO,CAAC,cAC3CrC,IAAA,aACEuC,EAAE,CAAC,MAAM,CACT5B,IAAI,CAAC,MAAM,CACXgC,IAAI,CAAC,GAAG,CACRd,KAAK,CAAET,QAAQ,CAACT,IAAK,CACrB+B,QAAQ,CAAEf,iBAAkB,CACnB,CAAC,cAEZ3B,IAAA,UAAOyC,OAAO,CAAC,WAAW,CAAAJ,QAAA,CAAC,WAAS,CAAO,CAAC,cAC5CnC,KAAA,WACES,IAAI,CAAC,WAAW,CAChB2B,SAAS,CAAC,kBAAkB,CAC5BT,KAAK,CAAET,QAAQ,CAACG,SAAU,CAC1BmB,QAAQ,CAAEf,iBAAkB,CAAAU,QAAA,eAE5BrC,IAAA,WAAQ6B,KAAK,CAAC,EAAE,CAAAQ,QAAA,CAAC,oBAAkB,CAAQ,CAAC,cAC5CrC,IAAA,WAAAqC,QAAA,CAAQ,WAAS,CAAQ,CAAC,cAC1BrC,IAAA,WAAAqC,QAAA,CAAQ,WAAS,CAAQ,CAAC,cAC1BrC,IAAA,WAAAqC,QAAA,CAAQ,MAAI,CAAQ,CAAC,cACrBrC,IAAA,WAAAqC,QAAA,CAAQ,MAAI,CAAQ,CAAC,EACf,CAAC,cAETrC,IAAA,UAAOyC,OAAO,CAAC,OAAO,CAAAJ,QAAA,CAAC,eAAa,CAAO,CAAC,cAC5CrC,IAAA,UACE4C,IAAI,CAAC,MAAM,CACXL,EAAE,CAAC,OAAO,CACV5B,IAAI,CAAC,OAAO,CACZkC,MAAM,CAAC,SAAS,CAChBH,QAAQ,CAAEV,iBAAkB,CAC7B,CAAC,cAEFhC,IAAA,UAAOyC,OAAO,CAAC,aAAa,CAAAJ,QAAA,CAAC,cAAY,CAAO,CAAC,cACjDrC,IAAA,aACEuC,EAAE,CAAC,aAAa,CAChB5B,IAAI,CAAC,aAAa,CAClBgC,IAAI,CAAC,GAAG,CACRd,KAAK,CAAET,QAAQ,CAACI,WAAY,CAC5BkB,QAAQ,CAAEf,iBAAkB,CACnB,CAAC,cAEZ3B,IAAA,UAAOyC,OAAO,CAAC,OAAO,CAAAJ,QAAA,CAAC,QAAM,CAAO,CAAC,cACrCrC,IAAA,UACE4C,IAAI,CAAC,MAAM,CACXL,EAAE,CAAC,OAAO,CACV5B,IAAI,CAAC,OAAO,CACZkB,KAAK,CAAET,QAAQ,CAACK,KAAM,CACtBiB,QAAQ,CAAEf,iBAAkB,CAC7B,CAAC,cAEJ3B,IAAA,UAAOyC,OAAO,CAAC,OAAO,CAAAJ,QAAA,CAAC,QAAM,CAAO,CAAC,cACnCrC,IAAA,UACE4C,IAAI,CAAC,MAAM,CACXL,EAAE,CAAC,OAAO,CACV5B,IAAI,CAAC,OAAO,CACZkB,KAAK,CAAET,QAAQ,CAACM,KAAM,CACtBgB,QAAQ,CAAEf,iBAAkB,CAC7B,CAAC,cAEF3B,IAAA,WAAQ4C,IAAI,CAAC,QAAQ,CAAAP,QAAA,CAAC,gBAAc,CAAQ,CAAC,EACzC,CAAC,CACJ,CAAC,EACC,CAAC,CACP,CAAC,cACNrC,IAAA,CAACX,MAAM,GAAE,CAAC,EACP,CAAC,CAEV,CAAC,CAED,cAAe,CAAAc,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}